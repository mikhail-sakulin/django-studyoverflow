{% extends 'navigation/base.html' %}
{% load static %}
{% load posts_tags %}


{% block title %}
    <title>Пост</title>
{% endblock %}


{% block extra_css %}
  <!-- Подключение CSS-темы для подсветки синтаксиса кода -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">

  <link type="text/css" rel="stylesheet" href="{% static 'posts/css/post_base.css' %}">

  <link type="text/css" rel="stylesheet" href="{% static 'posts/css/post_detail.css' %}">
{% endblock %}


{% block content %}

  <main class="container px-4 px-lg-0 my-4">
      <div class="row g-4">

        <div class="card text-white rounded shadow-sm px-4">
          <div class="card-body px-0">

            <div class="row mx-0 mb-1" style="display: inline-block">
              <a href="" class="author-name px-0 py-0">author_name</a>
            </div>

            <div class="text-secondary mb-0">
              Опубликовано: {{ post.time_create|date:"d.m.Y г. H:i" }}

              {% if post.is_edited %}
                &nbsp|&nbsp&nbspИзменено: {{ post.time_update|date:"d.m.Y г. H:i" }}
              {% endif %}
            </div>

            <hr class="mt-1 mb-3">

            <span class="title text-truncate mb-0">{{post.title}}</span>

            {% if post.content %}
              <div class="content text-white mt-3 mb-2">
                {{ post.content|markdown_safe|safe }}
              </div>
            {% endif %}

            <div class="tags-wrapper mt-4 d-flex flex-wrap gap-2">
              {% for tag in post.tags.all|dictsort:"name" %}
                <a href="" class="tag-badge">&nbsp;{{ tag.name }}&nbsp;</a>
              {% endfor %}
            </div>

            <div class="d-flex justify-content-between mt-5 mb-2">
              <button type="button" class="btn btn-outline-warning">Редактировать</button>
              <button type="button" class="btn btn-outline-danger">Удалить</button>
            </div>

          </div>
        </div>

      </div>
    </main>

{% endblock %}


{% block extra_js %}
  <!-- Подключение JS-скрипта highlight.js для подсветки синтаксиса кода -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

  <!-- Запуск highlight.js -->
  <script src="{% static 'posts/js/highlight_run.js' %}"></script>
{% endblock %}